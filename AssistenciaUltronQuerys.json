{
  "tb_teste_mob0": "select ofp.id_oferta_plano, collect_list( named_struct( \"servicoId\", ass.id_assistencia, \"servicoCodigoMapfre\", \"\", \"nomeServico\", nvl(ass.nm_assistencia, \"\"), \"descricaoServico\", nvl(ass.tx_descricao, \"\"), \"franquiaValorMonetario\", nvl(ass.vl_assistencia, 0), \"franquiaQuantidade\", nvl(pass.qt_limite_acionamento, 0), \"limiteAcionamentos\", nvl(pass.qt_limite_acionamento, 0), \"tipoFranquiaServico\", \"M\", \"prioritario\",false, \"ordem\", 100, \"diasAcionamento\", 0, \"itensNaoInclusos\", null, \"questionario\", null) ) Servicos from oferta_plano ofp join oferta_plano_pacote_assistencia ofpa on ofpa.id_oferta_plano = ofp.id_oferta_plano join oferta_pacote_assistencia opa on opa.id_oferta_pacote_assistencia = ofpa.id_oferta_pacote_assistencia join chassi_pacote_assistencia cpa on cpa.id_chassi_pacote_assistencia = opa.id_chassi_pacote_assistencia join pacote_assistencia pass on pass.id_pacote_assistencia = cpa.id_pacote_assistencia join assistencia_pacote_assistencia apass on apass.id_pacote_assistencia = pass.id_pacote_assistencia join assistencia ass on ass.id_assistencia = apass.id_assistencia group by ofp.id_oferta_plano\n",
  "tb_teste_mob1": "select principal.id_oferta_plano from ( select ofp.id_oferta_plano, count(pass.id_pacote_assistencia) as qtdPacotes from oferta_plano ofp join oferta_plano_pacote_assistencia ofpa on ofpa.id_oferta_plano = ofp.id_oferta_plano join oferta_pacote_assistencia opa on opa.id_oferta_pacote_assistencia = ofpa.id_oferta_pacote_assistencia join chassi_pacote_assistencia cpa on cpa.id_chassi_pacote_assistencia = opa.id_chassi_pacote_assistencia join pacote_assistencia pass on pass.id_pacote_assistencia = cpa.id_pacote_assistencia group by ofp.id_oferta_plano ) principal where principal.qtdPacotes = ( select max(a.qtdPacotes) from ( select ofp.id_oferta_plano, count(pass.id_pacote_assistencia) as qtdPacotes from oferta_plano ofp join oferta_plano_pacote_assistencia ofpa on ofpa.id_oferta_plano = ofp.id_oferta_plano join oferta_pacote_assistencia opa on opa.id_oferta_pacote_assistencia = ofpa.id_oferta_pacote_assistencia join chassi_pacote_assistencia cpa on cpa.id_chassi_pacote_assistencia = opa.id_chassi_pacote_assistencia join pacote_assistencia pass on pass.id_pacote_assistencia = cpa.id_pacote_assistencia group by ofp.id_oferta_plano ) a )\n",
  "tb_teste_mob2": "select pl.id_oferta_plano as planoId, nvl(pl.nm_plano, \"\") as nome, cast(\"0\" as LONG) as numeroContrato, case when ptop.id_oferta_plano is not null then true else false end planoReferencia, smob.Servicos as servicos, null categorias from oferta_plano as pl left join tb_teste_mob1 as ptop on ptop.id_oferta_plano = pl.id_oferta_plano left join tb_teste_mob0 as smob on smob.id_oferta_plano = pl.id_oferta_plano\n"
}